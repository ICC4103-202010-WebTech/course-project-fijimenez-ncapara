<div class="row ml-0 mt-3">
  <h2>Search Results</h2>
</div>
<% if @number  > 0  %>
  <div class="row ml-auto mt-auto">
    <p><%=@number %> matches found for Events.</p>
  </div>
  <div class="row ml-auto mt-auto">
    <% if @events.ids.length != 0 or @events_org.ids.length != 0 or @events_user.ids.length != 0 %>
      <% if @events.ids.length != 0 and @events_org.ids.length != 0 and @events_user.ids.length != 0 %>
        <% @events.each do |event| %>
          <% @events_org.each do |event2| %>
            <%if event2.id == event.id %>
              <%= render partial: 'events/event_tile', locals: { event: event } %>
            <%else%>
              <% @events_user.each do |event3| %>
                <%if event.id == event3.id%>
                  <%= render partial: 'events/event_tile', locals: { event: event } %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% elsif @events.ids.length != 0 and @events_user.ids.length != 0%>
        <% @events.each do |event| %>
          <% @events_user.each do |event2| %>
            <%if event2.id == event.id %>
              <%= render partial: 'events/event_tile', locals: { event: event } %>
            <% end %>
          <% end %>
        <% end %>
      <% elsif @events.ids.length != 0 and @events_org.ids.length != 0%>
        <% @events.each do |event| %>
          <% @events_org.each do |event2| %>
            <%if event2.id == event.id %>
              <%= render partial: 'events/event_tile', locals: { event: event } %>
            <% end %>
          <% end %>
        <% end %>
      <% elsif @events_user.ids.length != 0 and @events_org.ids.length != 0%>
        <% @events_user.each do |event| %>
          <% @events_org.each do |event2| %>
            <%if event2.id == event.id %>
              <%= render partial: 'events/event_tile', locals: { event: event } %>
            <% end %>
          <% end %>
        <% end %>
        <% elsif @events.ids.length != 0%>
          <% @events.each do |event| %>
            <%= render partial: 'events/event_tile', locals: { event: event } %>
          <% end %>
        <% elsif @events_org.ids.length != 0%>
          <% @events_org.each do |event| %>
            <%= render partial: 'events/event_tile', locals: { event: event } %>
          <% end %>
        <% elsif @events_user.ids.length != 0%>
          <% @events_user.each do |event| %>
            <%= render partial: 'events/event_tile', locals: { event: event } %>
          <% end %>
        <% end %>
      <% end %>
  </div>
<% else %>
  <div class="row ml-0 mt-2">
    <p>No matches found for Events.</p>
  </div>
<% end %>


<% if @organizations.length > 0  %>
  <div class="row ml-0 mt-2">
    <p><%=@organizations.length %> matches found for Organizations.</p>
  </div>
  <div class="row">
    <% @organizations.each do |organization| %>
      <div class="col-md-4">
        <div class="card mb-4 shadow-sm table-darkred">
          <p>
            <% if organization.photo.attached? %>
              <%= link_to image_tag(organization.photo,class: "card-img-top", width: "100%", background: "#55595c", color: "#eceeef"), url_for(organization) %>
            <%else %>
              <%= link_to image_tag("thumbnail.svg", class: "card-img-top", width: "100%", background: "#55595c", color: "#eceeef"), url_for(organization) %>
            <%end %>
          </p>
          <div class="card-body">
            <p class="card-text"><%= link_to organization.name, organization %></p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group  btn-group-toggle">
                <button type="button" class="btn btn-gold"><%= link_to "View", organization %></button>
                <button type="button" class="btn btn-sm btn-gold"><%= link_to "Edit", edit_event_path(organization)%></button>
                <button type="button" class="btn btn-sm btn-gold"><%= link_to 'Destroy', organization, method: :delete, data: { confirm: 'Are you sure?' } %></button>
              </div>
              <!--
              <small class="text-muted">%= "#{(event.start_date.to_date - DateTime.now.to_date).to_i} days left!" %></small>
              -->
            </div>
          </div>
        </div>
      </div>
    <%end %>
  </div>
<% else %>
  <div class="row ml-0 mt-2">
    <p>No matches found for Organizations.</p>
  </div>
<% end %>


<% if @users.length > 0  %>
  <div class="row ml-0 mt-2">
  <p><%=@users.length %> matches found for Users.</p>
  </div>
  <div class="row">
    <% @users.each_with_index do |user,i| %>
      <div class="col-lg-4 table-bordered table-active">
        <p>
          <% if user.photo.attached? %>
            <%= link_to image_tag(user.photo,class: "rounded-circle card-img-top", width: "250", height: "250", id:"img", background: "#55595c", color: "#eceeef"), url_for(user) %>
          <%else %>
            <%= link_to image_tag("thumbnail.svg", class: "rounded-circle card-img-top",width: "250", height: "250", background: "#55595c", color: "#eceeef"), url_for(user) %>
          <%end %>
        </p>
        <h2><%=user.name %></h2>
        <h4><%=user.email %></h4>
        <div class="btn btn-group-toggle">
          <label class="btn btn-secondary">
            <input type="radio" name="options" id="option1"> <%= link_to 'Show', user %>
          </label>
          <% if user_signed_in?%>
            <% if current_user.administrator%>
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option2"> <%= link_to 'Edit', edit_user_path(user) %>
              </label>
            <% elsif user.id == current_user.id%>
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option2"> <%= link_to 'Edit', edit_user_registration_path %>
              </label>
            <%end %>
            <% if user.id == current_user.id || current_user.administrator%>
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option3"> <%= link_to 'Delete', user, method: :delete, data: { confirm: 'Are you sure?' } %>
              </label>
            <%end %>
          <%end %>
        </div>
        </p>
      </div><!-- /.col-lg-4 -->
    <%end %>
  </div><!-- /.row -->
<% else %>
  <div class="row ml-0 mt-2">
    <p>No matches found for Users.</p>
  </div>
<% end %>